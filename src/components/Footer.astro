---
const currentYear = new Date().getFullYear();
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

interface Service {
  title: string;
  url: string;
}

console.log(lang);
const services: Service[] = [
  { title: t('footer.services.1'), url: `/${lang}/services/` },
  { title: t('footer.services.2'), url: `/${lang}/services/` },
  { title: t('footer.services.3'), url: `/${lang}/services/` }
];
---

<footer class="p-4 bg-neutral sm:p-6 mt-10">
  <div class="md:flex md:justify-between max-w-7xl mx-auto">
    <div class="mb-6 md:mb-0 px-6">
      <a href="/" class="flex flex-col lg:flex-row items-center text-white">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-16 mx-auto sombra-x2" viewBox="0 0 150 110">
          <circle cx="49.8" cy="49.8" r="49" fill="none" stroke="currentColor" stroke-width="4"/>
          <circle cx="109.8" cy="49.8" r="35" fill="none" stroke="currentColor" stroke-width="4"/>
          <path stroke="currentColor" stroke-width="4" d="m84 26 12 7m-17 0 19 12M78 64l15 9M75 52l21 13M76 42l23 13"/>
        </svg>
        <span class="pl-4 text-lg whitespace-nowrap">c4all.org</span>
      </a>
    </div>
    <div class="grid grid-cols-2 gap-8 sm:gap-10 sm:grid-cols-3">
      <div>
        <h5 class="mb-6 text-accent uppercase">{t('footer.services')}</h5>
        <ul class="text-base-300">
          {services.map((service) => (
            <li class="mb-4">
              <a href={service.url} class="hover:underline">{service.title}</a>
            </li>
          ))}
        </ul>
      </div>
      <div>
        <h5 class="mb-6 text-accent uppercase">{t('footer.organization')}</h5>
        <ul class="text-base-300">
          <li class="mb-4">
            <a href=`/${lang}/wwa` class="hover:underline">{t('footer.about')}</a>
          </li>
          <li>
            <a href=`/${lang}/contact` class="hover:underline">{t('footer.contact')}</a>
          </li>
        </ul>
      </div>
      <div>
        <h5 class="mb-6 text-accent uppercase">{t('footer.legal')}</h5>
        <ul class="text-base-300">
          <li class="mb-4">
            <a href="#" class="hover:underline">{t('footer.privacy')}</a>
          </li>
          <li>
            <a href="#" class="hover:underline">{t('footer.terms')}</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <hr class="my-6 border-gray-200 sm:mx-auto dark:border-gray-700 lg:my-8">
  <div class="sm:flex sm:items-center sm:justify-between max-w-7xl mx-auto">
    <span class="text-sm text-white sm:text-center">
      © {currentYear} <a href="/" class="hover:underline">magoreal™</a>. {t('footer.rights')}
    </span>
  </div>
</footer> 